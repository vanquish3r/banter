<html>
  <head>
    <!-- Add meta tags to show icon/title in the menu in banter -->    
    <meta property="og:title" content="Banter Court">
    <meta property="og:description" content="Where Goats Rule the Courtroom!">
    <meta property="og:image" content="https://raw.githubusercontent.com/vanquish3r/banter/main/court/banter-court.jpg">
    <meta name="sidequest-space-verification" content="f1e9c082-e4c7-417e-b8a7-2e5d7de2e0f4">
    
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    
<!--    <script src="https://github.com/vanquish3r/banter/raw/main/court/warpbox.js"></script> -->
    
<!-- Cage exit and enter spawn point -->
    <script>
    // A simple aframe component to handle the click
      AFRAME.registerComponent('handle-click', {
          init: function () {
              // When you click on an element, run the animation on the parent element
              this.el.addEventListener('click', () => {
                 movePlayer({x: 7.83699989, y: 0, z: -25.8180008});
              })
          }
      });
            
     function multispaw() {
        const spawpoints = [];
        spawpoints[0] = new THREE.Vector3(0, 0, 0);

        const randomspawpoint = Math.floor(Math.random() * 1);
        movePlayer(spawpoints[randomspawpoint]);
      }
      window.loadDoneCallback = () => multispaw();      
    </script>

  <!-- Warpbox -->
        <script>
AFRAME.registerComponent("boxwarp", {
  schema: {
    point: { type: "vec3" },
  },
  // this.data.{name}

  init: function () {
    this.el.addEventListener("trigger-enter", () => {
      if(this.el.object3D.userData.isLocalPlayer) {movePlayer(this.data.point);}
    });
  },
});
    </script>
    
  </head>
  <body>
    <a-scene sq-assetbundle="android: https://github.com/vanquish3r/banter/raw/main/court/banter-court_android_v11; 
                             desktop: https://github.com/vanquish3r/banter/raw/main/court/banter-court_standalonewindows_v11" 
             sq-refreshrate="rate:90" sq-spawnpoint="position: 0 0 0 180;" sq-disableteleport sq-clippingplane="near: 0.05; far: 500;">
      
       <!-- Video Player -->
   <script src="https://vidya-player.glitch.me/playlist.js"
            position="0 -2 0" rotation="0 0 0" scale="0.85 1 1"
            volume="10" button-position="0 6.4 8.38" button-rotation="0 0 0" 
              button-scale="2 2 2" instance="banter-court" one-for-each-instance="false" announce="false" spatial="false"
            playlist="PLZWiw-xxQ4SN5Esnfdv-jq8JTCtevDZ-q"></script>

            <!--Screen cast player-->
<!--<a-entity   id="banter-court" 
                sq-browser="url: https://screen-cast.glitch.me/?sid=5671310878734176; mipMaps: 1; pixelsPerUnit: 1600; mode: local;" position="0 -2 0" rotation="0 180 0" announce="false" scale="0.85 1 1">
       </a-entity>-->
      
   <!-- Coming Soon -->   
     <!-- <a-entity position="0 1 5.5" rotation="0 180 0">
        <a-box
          sq-collider
          scale="3 2 0.1"
          color="yellow"
        ></a-box>
          <a-text
            value="COMING SOON\nUnder Construction"
            scale="0.8 0.8 0.8"
            position="0 0 0.052"
            align="center"
            color="black"
          ></a-text>
      </a-entity> -->
      
   <!-- Jail Portal -->   
   <!--   <a-link
        title="Jail"
        position="7.77 0.1 30.55"
        rotation="0 225 0"
        href="https://afkjail.glitch.me"
      ></a-link> -->
      
    <!-- Cage Teleporter -->
      <a-entity
        id="WarpCube1"
        scale="0.7 2 0.55"
        position="8.095 0.2760005 24.89"
        boxwarp="point:7.757 0.171 -23.894"
        sq-boxcollider
        sq-triggercollider>
        <!--<a-box scale="1 1 1" material="color: white"></a-box>-->
      </a-entity>
        
   <!-- Click Teleport -->
    <a-box sq-collider sq-interactable handle-click material="transparent: true; opacity: 1; color: black" scale="0.1 0.1 0.1" position="8.45899963 0.15 24.6553001"></a-box> 
    
      
     <!-- Put video player script below here!  -->
      
    </a-scene>
  </body>
</html>
